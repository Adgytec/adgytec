@use "../abstracts/media-queries" as ab;

.portfolio-container {
	--background-size: 0%;
	--tx: 0;

	background-color: var(--bg-800);
	color: var(--text);
	padding-block: 4em;

	@include ab.screen-work {
		height: 600vb;
	}

	.portfolio {
		position: sticky;
		top: 1em;

		h2 {
			background-image: linear-gradient(90deg, var(--text), var(--text));
			color: rgba(0, 0, 0, 0.123);
			background-clip: text;
			background-repeat: no-repeat;

			background-size: var(--background-size);

			transition: background-size 0ms linear;

			max-width: max-content;
		}

		> div {
			margin-block-start: 4em;

			@include ab.screen-work {
				margin-block-start: 3em;
				overflow: hidden;
			}
		}

		&-items {
			display: grid;
			gap: 5em;

			@include ab.screen-work {
				grid-template-columns: repeat(2, 100%);
				translate: calc(-1 * var(--tx));
			}

			h3 {
				font-weight: 500;
				grid-area: title;
			}

			p {
				grid-area: about;

				@include ab.screen-64 {
					position: relative;

					&::before {
						position: absolute;
						content: "";
						top: 0;
						bottom: 0;
						background-color: var(--dark);
						width: 0.15em;
						left: -2%;
					}
				}
			}

			video {
				width: 100%;
			}

			> :nth-child(2) {
				@include ab.screen-48 {
					grid-template-areas:
						"title about about about about about"
						"video video video video video video";
				}
			}

			&__child {
				display: grid;
				gap: 1em;

				grid-template-areas:
					"title"
					"video"
					"about";

				box-shadow: rgba(0, 0, 0, 0.09) 0px 2px 1px,
					rgba(0, 0, 0, 0.09) 0px 4px 2px,
					rgba(0, 0, 0, 0.09) 0px 8px 4px,
					rgba(0, 0, 0, 0.09) 0px 16px 8px,
					rgba(0, 0, 0, 0.09) 0px 32px 16px;
				border-radius: 0.75em;
				padding: 1em 1em 0.5em;

				@include ab.screen-work {
					padding: 0;
					box-shadow: none;
					border-radius: 0;
				}

				@include ab.screen-48 {
					column-gap: 4em;
					row-gap: 2em;

					max-height: min-content;

					grid-template-areas:
						"title about about about"
						"video video video video";
				}

				div {
					position: relative;
					overflow: auto;
					border-radius: 0.75rem;
					grid-area: video;

					@include ab.screen-48 {
						max-height: 55svb;
						border-radius: 0;
						overflow: hidden;
					}

					&::before {
						position: absolute;
						content: "";
						inset: 0;
						background-color: transparent;
					}
				}
			}
		}
	}
}
